<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>MW Logo Sandbox &#8211; Chris Wahlfeldt</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="This is my personal site and I use it to post projects and write about things that include: stuff im working on, videogames, 3D stuff, the &#39;interweb&#39;, and how to make shit!">
    <meta name="author" content="Chris Wahlfeldt">
    <link rel="canonical" href="//mw-logo/">

    <!-- jQuery -->
    <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>

    <!-- Custom CSS -->
    <link rel="stylesheet" href=" /css/pixyll.css " type="text/css">
    <link rel="stylesheet" href=" /css/animate.css " type="text/css">

    <!-- Fonts -->
    <link href='//fonts.googleapis.com/css?family=Merriweather:900,900italic,300,300italic' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Lato:900,300' rel='stylesheet' type='text/css'>
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">

    <!-- Open Graph -->
    <!-- From: https://github.com/mmistakes/hpstr-jekyll-theme/blob/master/_includes/head.html -->
    <meta property="og:locale" content="en_US">
    <meta property="og:type" content="article">
    <meta property="og:title" content="MW Logo Sandbox">
    <meta property="og:description" content="This is my personal site and I use it to post projects and write about things that include: stuff im working on, videogames, 3D stuff, the &#39;interweb&#39;, and how to make shit!">
    <meta property="og:url" content="//mw-logo/">
    <meta property="og:site_name" content="Chris Wahlfeldt">
    
</head>

<body>
  <div class="site-wrap blank">

    <div class="post p2 p-responsive wrap" role="main">
      <div class="measure">
        <style>
  body, html {
    height: 0;
  }
  canvas { width: 100vw; height: 100vh; }
  .p-responsive {
    padding: 0;
  }
</style>

<script src="/bower_components/three.js/build/three.min.js"></script>

<script src="/obj-loader.js"></script>

<script>

  var container;

  var camera, scene, renderer;

  var mouseX = 0, mouseY = 0;

  var windowHalfX = window.innerWidth / 2;
  var windowHalfY = window.innerHeight / 2;


  init();
  animate();


  function init() {

    container = document.createElement( 'div' );
    document.body.appendChild( container );

    camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 1, 2000 );
    camera.position.z = 250;

    // scene

    scene = new THREE.Scene();

    var ambient = new THREE.AmbientLight( 0x101030 );
    scene.add( ambient );

    var directionalLight = new THREE.DirectionalLight( 0xffeedd );
    directionalLight.position.set( 0, 0, 1 );
    scene.add( directionalLight );

    // texture

    var manager = new THREE.LoadingManager();
    manager.onProgress = function ( item, loaded, total ) {

      console.log( item, loaded, total );

    };

    var texture = new THREE.Texture();

    var onProgress = function ( xhr ) {
      if ( xhr.lengthComputable ) {
        var percentComplete = xhr.loaded / xhr.total * 100;
        console.log( Math.round(percentComplete, 2) + '% downloaded' );
      }
    };

    var onError = function ( xhr ) {
    };


    var loader = new THREE.ImageLoader( manager );
    loader.load( 'textures/UV_Grid_Sm.jpg', function ( image ) {

      texture.image = image;
      texture.needsUpdate = true;

    } );

    // model

    var loader = new THREE.OBJLoader( manager );
    loader.load( '/mw_logo.obj', function ( object ) {

      object.traverse( function ( child ) {

        if ( child instanceof THREE.Mesh ) {

          //child.material.map = texture;

        }

      } );

      object.position.y = -20;
      object.rotation.x = 90;
      object.scale.x = 25;
      object.scale.y = 25;
      object.scale.z = 25;
      scene.add( object );

    }, onProgress, onError );

    //

    renderer = new THREE.WebGLRenderer();
    renderer.setPixelRatio( window.devicePixelRatio );
    renderer.setSize( window.innerWidth, window.innerHeight );
    container.appendChild( renderer.domElement );

    document.addEventListener( 'mousemove', onDocumentMouseMove, false );

    //

    window.addEventListener( 'resize', onWindowResize, false );

  }

  function onWindowResize() {

    windowHalfX = window.innerWidth / 2;
    windowHalfY = window.innerHeight / 2;

    camera.aspect = window.innerWidth / window.innerHeight;
    camera.updateProjectionMatrix();

    renderer.setSize( window.innerWidth, window.innerHeight );

  }

  function onDocumentMouseMove( event ) {

    mouseX = ( event.clientX - windowHalfX ) / 2;
    mouseY = ( event.clientY - windowHalfY ) / 2;

  }


  function animate() {

    requestAnimationFrame( animate );
    render();

  }

  function render() {

    camera.position.x += ( mouseX - camera.position.x ) * .02;
    camera.position.y += ( - mouseY - camera.position.y ) * .02;

    camera.lookAt( scene.position );

    renderer.render( scene, camera );

  }

</script>


      </div>
    </div>
  </div>

</body>
</html>
